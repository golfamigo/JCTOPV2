apiVersion: zeabur.com/v1
kind: Template
metadata:
  name: jctop-event-system
spec:
  description: Full-stack event management system with React Native/Expo frontend and NestJS backend
  icon: https://raw.githubusercontent.com/zeabur/service-icons/main/marketplace/nestjs.svg
  tags:
    - nestjs
    - expo
    - postgresql
    - monorepo
  readme: |
    # JCTOP Event Management System
    
    A complete event management platform with:
    - NestJS backend API
    - Expo/React Native Web frontend
    - PostgreSQL database
    
    ## Features
    - Event creation and management
    - Ticket sales and registration
    - QR code check-in
    - Analytics dashboard
    
  services:
    - name: database
      icon: https://raw.githubusercontent.com/zeabur/service-icons/main/marketplace/postgresql.svg
      template: POSTGRESQL
      spec:
        env:
          POSTGRES_DB:
            default: jctop
          POSTGRES_USER:
            default: jctop
          POSTGRES_PASSWORD:
            generate: PASSWORD
            
    - name: server
      icon: https://raw.githubusercontent.com/zeabur/service-icons/main/marketplace/nestjs.svg
      template: GIT
      spec:
        source:
          target: server.Dockerfile
        ports:
          - id: main
            port: 3000
            type: HTTP
        env:
          NODE_ENV:
            default: production
          DATABASE_URL:
            default: ${database.POSTGRES_CONNECTION_STRING}
            expose: false
          JWT_SECRET:
            default: "1322fa7e9a2c139f54b2ef1f72c310e4"
            expose: false
          ENCRYPTION_SECRET_KEY:
            default: "55f57ce844a791941af169291907e043"
            expose: false
          CORS_ORIGIN:
            default: https://${client.DEPLOYED_DOMAIN}
            expose: false
          GOOGLE_CLIENT_ID:
            default: ""
            expose: true
          GOOGLE_CLIENT_SECRET:
            default: ""
            expose: true
            
    - name: client
      icon: https://raw.githubusercontent.com/zeabur/service-icons/main/marketplace/react.svg
      template: GIT
      spec:
        source:
          target: client.Dockerfile
        ports:
          - id: web
            port: 80
            type: HTTP
        env:
          EXPO_PUBLIC_API_URL:
            default: https://${server.DEPLOYED_DOMAIN}/api/v1
            expose: false
            
  configs:
    - key: GOOGLE_CLIENT_ID
      name: Google OAuth Client ID
      description: Optional - Required only if you want to enable Google sign-in
      type: STRING
      optional: true
      
    - key: GOOGLE_CLIENT_SECRET
      name: Google OAuth Client Secret
      description: Optional - Required only if you want to enable Google sign-in
      type: STRING
      optional: true

localization:
  zh-TW:
    description: 全端活動管理系統，採用 React Native/Expo 前端和 NestJS 後端
    readme: |
      # JCTOP 活動管理系統
      
      完整的活動管理平台，包含：
      - NestJS 後端 API
      - Expo/React Native Web 前端
      - PostgreSQL 資料庫
      
      ## 功能特色
      - 活動建立與管理
      - 票券銷售與報名
      - QR Code 簽到
      - 分析儀表板
    configs:
      - key: GOOGLE_CLIENT_ID
        name: Google OAuth 客戶端 ID
        description: 選填 - 只有當您想啟用 Google 登入時才需要
      - key: GOOGLE_CLIENT_SECRET
        name: Google OAuth 客戶端密鑰
        description: 選填 - 只有當您想啟用 Google 登入時才需要
  zh-CN:
    description: 全栈活动管理系统，采用 React Native/Expo 前端和 NestJS 后端
    readme: |
      # JCTOP 活动管理系统
      
      完整的活动管理平台，包含：
      - NestJS 后端 API
      - Expo/React Native Web 前端
      - PostgreSQL 数据库
      
      ## 功能特色
      - 活动创建与管理
      - 票券销售与报名
      - 二维码签到
      - 分析仪表板
    configs:
      - key: GOOGLE_CLIENT_ID
        name: Google OAuth 客户端 ID
        description: 选填 - 只有当您想启用 Google 登录时才需要
      - key: GOOGLE_CLIENT_SECRET
        name: Google OAuth 客户端密钥
        description: 选填 - 只有当您想启用 Google 登录时才需要